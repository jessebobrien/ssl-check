#!/bin/bash
# This script is intended to easily check information of a cert and verify validity for at least 60 days

echo "Please enter web address to check:"
read URL

CERT=$(echo | openssl s_client -connect "$URL":443 2>/dev/null | openssl x509 -noout -text)
DISPLAYCERT=$(echo "$CERT" | grep "Not After :")


CURDATE=$(date +%b" "%d" "%H:%M:%S" "%Y)
DATEMODE="            Not After : "
GMT=" GMT"

DISPLAYDATE="$DATEMODE""$CURDATE""$GMT"
echo "$DISPLAYDATE"

DISPLAYCERT=${DISPLAYCERT#*: }      # Removes preceeding junk string text
DISPLAYCERT=${DISPLAYCERT& GTM}     # Removes Time Zone at end of string
date --date="$DISPLAYCERT" +%s